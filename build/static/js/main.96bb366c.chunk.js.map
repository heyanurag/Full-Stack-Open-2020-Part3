{"version":3,"sources":["components/PersonForm.js","components/Person.js","components/Persons.js","components/Filter.js","services/personService.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","addName","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Person","person","remove","name","number","onClick","Persons","persons","filter","removePerson","map","key","id","toLowerCase","includes","Filter","handleFilterChange","baseURL","axios","get","then","response","data","newPerson","post","delete","changedPerson","put","Notification","message","className","class","text","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","setMessage","useEffect","personService","allPersons","event","target","preventDefault","some","window","confirm","find","updatedPerson","setTimeout","catch","error","alert","newObject","concat","deletedPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.96bb366c.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = ({addName, newName, newNumber, handleNameChange, handleNumberChange}) => {\r\n    return (\r\n        <form onSubmit={addName}>\r\n            <div>\r\n                Name: <input value={newName} onChange={handleNameChange} />\r\n            </div>\r\n            <div>\r\n                Number: <input value={newNumber} onChange={handleNumberChange} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">Add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({person, remove}) => {\r\n    return(\r\n        <div>\r\n            {person.name} {person.number} <button onClick={remove}>Delete</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({persons, filter, removePerson}) => {\r\n    if(filter === '') { \r\n        return persons.map(person => <Person key={person.name} person={person} remove={() => removePerson(person.id)} />)\r\n    }\r\n\r\n    const filterPersons = (name) => name.toLowerCase().includes(filter.toLowerCase())\r\n\r\n    const filteredPersons = persons.filter(person => filterPersons(person.name))\r\n\r\n    return filteredPersons.map(person => <Person key={person.name} person={person} remove={() => removePerson(person.id)} /> ) \r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = ({filter, handleFilterChange}) => {\r\n    return (\r\n        <div>\r\n            Filter with Name: <input value={filter} onChange={handleFilterChange}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import axios from 'axios'\r\n\r\nconst baseURL = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseURL)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newPerson) => {\r\n    const request = axios.post(baseURL, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    const request = axios.delete(`${baseURL}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (changedPerson) => {\r\n    const request = axios.put(`${baseURL}/${changedPerson.id}`, changedPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll,create,deletePerson,update}","import React from 'react'\r\n\r\nconst Notification = ({message}) => {\r\n\r\n    if(message === null) \r\n        return null\r\n    \r\n    return(\r\n        <div className={message.class}>\r\n            {message.text}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Filter from './components/Filter'\r\nimport personService from './services/personService'\r\nimport Notification from './components/Notification'\r\nimport './index.css'\r\n\r\nconst App = () => {\r\n\tconst [ persons, setPersons ] = useState([]) \r\n\tconst [ newName, setNewName ] = useState('')\r\n\tconst [ newNumber, setNewNumber ] = useState('')\r\n\tconst [ filter, setNewFilter ] = useState('')\r\n\tconst [ message, setMessage ] = useState(null)\r\n\r\n\r\n\tconst handleNameChange = (event) => setNewName(event.target.value)\r\n\t\r\n\tconst handleNumberChange = (event) => setNewNumber(event.target.value)\r\n\r\n\tconst handleFilterChange = (event) => setNewFilter(event.target.value)\r\n\r\n\tconst addName = (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tif(persons.some(person => person.name === newName)) {\r\n\r\n\t\t\tif(window.confirm(`${newName} is already added to phonebook, replace the old number with the new one?`)) {\r\n\r\n\t\t\t\tconst person = persons.find(person => person.name === newName)\r\n\t\t\t\tconst changedPerson = {...person, number: newNumber}\r\n\t\t\t\t\r\n\t\t\t\tpersonService\r\n\t\t\t\t\t.update(changedPerson)\r\n\t\t\t\t\t.then(updatedPerson => {\r\n\t\t\t\t\t\tsetPersons(persons.map(person => person.id !== updatedPerson.id ? person : updatedPerson))\r\n\t\t\t\t\t\tsetMessage({text :`Updated ${updatedPerson.name}'s phone number`, class: 'success'})\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tsetMessage(null)\r\n\t\t\t\t\t\t\t} ,5000)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\tsetMessage({text: `${changedPerson.name} was already deleted from the server`, class: 'error'})\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tsetMessage(null)\r\n\t\t\t\t\t\t\t} ,5000)\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tsetNewName('')\r\n\t\t\tsetNewNumber('')\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif(persons.some(person => person.number === newNumber)) {\r\n\t\t\twindow.alert(`${newNumber} is already added to phonebook `)\r\n\t\t\tsetNewName('')\r\n\t\t\tsetNewNumber('')\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst newPerson = {\r\n\t\t\tname: newName,\r\n\t\t\tnumber: newNumber\r\n\t\t}\r\n\t\t\t\r\n\t\tpersonService\r\n\t\t\t.create(newPerson)\r\n\t\t\t.then(newObject => {\r\n\t\t\t\tsetPersons(persons.concat(newObject))\r\n\t\t\t\tsetNewName('')\r\n\t\t\t\tsetNewNumber('')\r\n\t\t\t\tsetMessage({text: `Added ${newObject.name} to the phonebook`,class: 'success'})\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tsetMessage(null)\r\n\t\t\t\t} ,5000)\r\n\t\t}) \r\n\t}\r\n\r\n\tconst removePerson = (id) => {\r\n\tconst person = persons.find(person => person.id === id)\r\n\tif(window.confirm(`Delete ${person.name}?`)) {\r\n\t\tpersonService\r\n\t\t\t.deletePerson(id)\r\n\t\t\t.then(deletedPerson => {\r\n\t\t\t\tsetPersons(persons.filter(person => person.id !== id ))\r\n\t\t\t})\r\n\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tpersonService\r\n\t\t\t.getAll()\r\n\t\t\t.then(allPersons => \r\n\t\t\t\tsetPersons(allPersons)\r\n\t)\r\n\t},[])\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Phonebook</h2>\r\n\t\t\t<Notification message={message} />\r\n\t\t\t<Filter filter={filter} handleFilterChange={handleFilterChange} />\r\n\t\t\t<h2>Add a new</h2>\r\n\t\t\t<PersonForm \r\n\t\t\t\taddName={addName} \r\n\t\t\t\t\tnewName={newName} \r\n\t\t\t\t\tnewNumber={newNumber} \r\n\t\t\t\t\thandleNameChange={handleNameChange} \r\n\t\t\t\t\thandleNumberChange={handleNumberChange} \r\n\t\t\t/>\r\n\t\t\t<h2>Numbers</h2>\r\n\t\t\t<Persons persons={persons} filter={filter} removePerson={removePerson} /> \r\n\t\t</div>\r\n\t)        \r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}